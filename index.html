<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Zephyr Lathuy</title>

    <style>
        * {
            padding: 0;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            overflow: hidden;
        }

        a {
            text-decoration: none;
            color: black;
        }

        a:hover {
            color: #96a6c8;
            transform: scale(1.05);
            transition: all 0.2s ease-in-out;
        }

        h1 {
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        li {
            list-style: none;
            font-size: 1.1em;
            padding-bottom: 2px;
        }


        .div1 {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: center;
            width: 100vw;
            height: 100vh;
        }

        .div2 {
            display: flex;
            flex-direction: column;
            margin-top: 25vh;
        }

        .social {
            padding-left: 20px;
        }

        #divGame {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            border-collapse: collapse;
        }

        td {
            padding: 0;
        }

        @media (max-width: 600px) {
            li {
                padding-bottom: 10px;
                font-size: 1.3em;
            }
        }

        .alive {
            background-color: #D9DCDE;
        }
    </style>
</head>

<body>

    <table id="divGame"></table>

    <div class="div1">
        <div class="div2">
            <h1>Zephyr Lathuy</h1>
            <div class="social">
                <ul>
                    <li><a href="https://github.com/ZEP13">> GITHUB</a></li>
                    <li><a href="https://www.linkedin.com/in/zephyrlathuy/">> LINKEDIN</a></li>
                    <li><a href="mailto:zephyr.datadev@gmail.com">> MAIL</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const tailleCellule = 6;

        let nombreligne;
        let nombrecolone;

        function initialiserDimensions() {
            nombrecolone = Math.floor(window.innerWidth / tailleCellule);
            nombreligne = Math.floor(window.innerHeight / tailleCellule);
        }

        function dessinerGrille() {
            const divGame = document.getElementById('divGame');
            divGame.innerHTML = '';

            for (let i = 0; i < nombreligne; i++) {
                let newTr = document.createElement('tr');

                for (let j = 0; j < nombrecolone; j++) {
                    let cellule = document.createElement('td');

                    cellule.style.width = `${tailleCellule}px`;
                    cellule.style.height = `${tailleCellule}px`;
                    cellule.id = `cellule-${i}-${j}`;

                    if (Math.random() > 0.8) {
                        cellule.classList.add("alive");
                    }

                    newTr.appendChild(cellule);
                }

                divGame.appendChild(newTr);
            }
        }

        function envie(iCell, jCell) {
            let count = 0;

            for (let i = iCell - 1; i <= iCell + 1; i++) {
                for (let j = jCell - 1; j <= jCell + 1; j++) {

                    if (i === iCell && j === jCell) continue;
                    if (i < 0 || i >= nombreligne || j < 0 || j >= nombrecolone) continue;

                    let voisine = document.getElementById(`cellule-${i}-${j}`);
                    if (voisine.classList.contains("alive")) {
                        count++;
                    }
                }
            }

            return count;
        }

        function etapeSuivante() {
            let nouvelEtat = [];

            for (let i = 0; i < nombreligne; i++) {
                nouvelEtat[i] = [];

                for (let j = 0; j < nombrecolone; j++) {
                    let cellule = document.getElementById(`cellule-${i}-${j}`);
                    let vivantes = envie(i, j);
                    let estVivante = cellule.classList.contains("alive");

                    if (estVivante) {
                        nouvelEtat[i][j] = (vivantes === 2 || vivantes === 3);
                    } else {
                        nouvelEtat[i][j] = (vivantes === 3);
                    }
                }
            }

            for (let i = 0; i < nombreligne; i++) {
                for (let j = 0; j < nombrecolone; j++) {
                    let cellule = document.getElementById(`cellule-${i}-${j}`);

                    if (nouvelEtat[i][j]) {
                        cellule.classList.add("alive");
                    } else {
                        cellule.classList.remove("alive");
                    }
                }
            }
        }

        function initialiser() {
            initialiserDimensions();
            dessinerGrille();
        }

        window.addEventListener("resize", () => {
            initialiser();
        });

        initialiser();
        setInterval(etapeSuivante, 500);
    </script>

</body>

</html>

